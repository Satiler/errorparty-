# üîÑ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ Steam Bot

## –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –ø—Ä–∏ rate limit –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### .env
```bash
# –û—Å–Ω–æ–≤–Ω–æ–π –∞–∫–∫–∞—É–Ω—Ç
STEAM_BOT_USERNAME=errorparty
STEAM_BOT_PASSWORD=963963aa!

# –†–µ–∑–µ—Ä–≤–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ)
STEAM_BOT_USERNAME_BACKUP=errorparty1
STEAM_BOT_PASSWORD_BACKUP=963963aa!
```

### docker-compose.yml
```yaml
environment:
  - STEAM_BOT_USERNAME=${STEAM_BOT_USERNAME}
  - STEAM_BOT_PASSWORD=${STEAM_BOT_PASSWORD}
  - STEAM_BOT_USERNAME_BACKUP=${STEAM_BOT_USERNAME_BACKUP}
  - STEAM_BOT_PASSWORD_BACKUP=${STEAM_BOT_PASSWORD_BACKUP}
```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### 1. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ Rate Limit
–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ `RateLimitExceeded` –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞:

```
‚ùå Steam Client Error: RateLimitExceeded
üö´ Rate limit detected on primary account!
üîÑ Switching to backup account: errorparty1
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
- ‚úÖ –ß–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —Å backup –∞–∫–∫–∞—É–Ω—Ç–æ–º
- ‚úÖ –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É –±–µ–∑ –ø—Ä–æ—Å—Ç–æ—è
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

### 3. –ï—Å–ª–∏ backup —Ç–æ–∂–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
```
üö´ Rate limit detected! Backup account also limited.
‚è∞ Waiting 60 minutes before retry...
‚è∞ Bot will automatically reconnect after cooldown
```
- ‚è∞ –ñ–¥—ë—Ç 1 —á–∞—Å
- üîÑ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É

## Separate Credentials Storage

–ö–∞–∂–¥—ã–π –∞–∫–∫–∞—É–Ω—Ç —Ö—Ä–∞–Ω–∏—Ç —Å–≤–æ–∏ credentials –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–∞–ø–∫–µ:
```
/app/.steam/
  ‚îú‚îÄ‚îÄ errorparty/      # –û—Å–Ω–æ–≤–Ω–æ–π –∞–∫–∫–∞—É–Ω—Ç
  ‚îÇ   ‚îî‚îÄ‚îÄ sentry       # Steam Guard data
  ‚îî‚îÄ‚îÄ errorparty1/     # –†–µ–∑–µ—Ä–≤–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
      ‚îî‚îÄ‚îÄ sentry       # Steam Guard data
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ Steam Guard –∫–æ–¥—ã
- ‚úÖ –ù–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ

## API Status

–°—Ç–∞—Ç—É—Å —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –∞–∫–∫–∞—É–Ω—Ç:

```json
{
  "connected": true,
  "gcReady": true,
  "currentAccount": "errorparty1",
  "usingBackup": true,
  "hasBackup": true,
  "rateLimited": false
}
```

**–ü–æ–ª—è:**
- `currentAccount` - —Ç–µ–∫—É—â–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∞–∫–∫–∞—É–Ω—Ç
- `usingBackup` - —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –Ω–∞ backup
- `hasBackup` - –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ª–∏ backup

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£—Å–ø–µ—à–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
```
üîê Logging into Steam...
üîÑ Using backup account: errorparty1
‚úÖ Backup Steam account configured
‚úÖ Steam Bot logged in
‚úÖ Connected to CS2 Game Coordinator
```

### –í–æ–∑–≤—Ä–∞—Ç –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É
```
‚è∞ Rate limit cooldown finished
üîÑ Switching back to primary account: errorparty
üîê Using primary account: errorparty
‚úÖ Steam Bot logged in
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ backup –∞–∫–∫–∞—É–Ω—Ç–∞
1. ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ –≤—Ç–æ—Ä–æ–π Steam –∞–∫–∫–∞—É–Ω—Ç
2. ‚úÖ –ö—É–ø–∏—Ç–µ CS2 (–∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É)
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Steam Guard –Ω–∞ —Ç–æ—Ç –∂–µ email
4. ‚úÖ –î–æ–±–∞–≤—å—Ç–µ credentials –≤ `.env`

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∞–∫–∫–∞—É–Ω—Ç
docker logs errorparty_backend | grep "Using.*account"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ API
curl https://errorparty.ru/api/cs2/bot/status \
  -H "Authorization: Bearer TOKEN" | jq '.status.currentAccount'
```

### Best Practices
- ‚ö†Ô∏è –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π email –¥–ª—è –æ–±–æ–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- ‚ö†Ô∏è –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –¥—Ä—É–∑–µ–π –Ω–∞ backup –∞–∫–∫–∞—É–Ω—Ç –≤—Ä—É—á–Ω—É—é
- ‚ö†Ô∏è Backup –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ rate limit –æ—Å–Ω–æ–≤–Ω–æ–≥–æ
- ‚úÖ –û–±–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å CS2 –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ

## Troubleshooting

### Backup –Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –∞–∫–∫–∞—É–Ω—Ç –ø–æ—Å–ª–µ rate limit

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker exec errorparty_backend env | grep STEAM_BOT

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
# STEAM_BOT_USERNAME=errorparty
# STEAM_BOT_PASSWORD=963963aa!
# STEAM_BOT_USERNAME_BACKUP=errorparty1
# STEAM_BOT_PASSWORD_BACKUP=963963aa!
```

### –û–±–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã
**–ü—Ä–æ–±–ª–µ–º–∞:** Rate limit –Ω–∞ –æ–±–æ–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–∞—Ö

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ–¥–æ–∂–¥–∞—Ç—å 1 —á–∞—Å —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–ø—ã—Ç–∫–∏
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `docker logs errorparty_backend`
3. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –ø–æ—Å–ª–µ cooldown

### Steam Guard –Ω–∞ backup
**–ü—Ä–æ–±–ª–µ–º–∞:** Backup –∞–∫–∫–∞—É–Ω—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç Steam Guard –∫–æ–¥

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å email backup –∞–∫–∫–∞—É–Ω—Ç–∞
2. –í—Ä–µ–º–µ–Ω–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–¥ –≤ `.env`:
   ```bash
   STEAM_GUARD_CODE_BACKUP=AB123
   ```
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
4. –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### Rate Limit History
```sql
-- –õ–æ–≥–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π (–µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ –ë–î)
SELECT 
  created_at,
  account_name,
  event_type
FROM bot_events
WHERE event_type IN ('rate_limit', 'account_switch')
ORDER BY created_at DESC;
```

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
- ‚è≥ 3-–π —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç (errorparty2)
- ‚è≥ –£–º–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ –Ω–∞–≥—Ä—É–∑–∫–µ
- ‚è≥ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
- ‚è≥ Dashboard —Å –∏—Å—Ç–æ—Ä–∏–µ–π –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π
- ‚è≥ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–∑–µ–π –Ω–∞ backup

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  
**–ê–∫–∫–∞—É–Ω—Ç—ã:**
- –û—Å–Ω–æ–≤–Ω–æ–π: `errorparty` (–≥–æ—Ç–æ–≤ –ø–æ—Å–ª–µ cooldown)
- –†–µ–∑–µ—Ä–≤–Ω—ã–π: `errorparty1` (–≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é)

**–ó–∞–ø—É—Å–∫:**
```bash
docker-compose up -d backend
```

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–µ—Ä–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç!
