# üéµ SPRINT 1 –ó–ê–í–ï–†–®–ï–ù: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –ò—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ú—É–∑—ã–∫–∏

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ (03 –¥–µ–∫–∞–±—Ä—è 2025)

### 1. **–ë–∞–∑–æ–≤–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ü—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤**

**–°–æ–∑–¥–∞–Ω –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å MusicProvider:**
- –§–∞–π–ª: `backend/src/modules/music/providers/base-provider.js`
- –ú–µ—Ç–æ–¥—ã: `search()`, `getTrack()`, `getDirectUrl()`, `isAvailable()`, `normalizeTrack()`
- –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –º—É–∑—ã–∫–∏

### 2. **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã**

**LmusicProvider:**
- –§–∞–π–ª: `backend/src/modules/music/providers/lmusic-provider.js`
- –ü–æ–∏—Å–∫ —á–µ—Ä–µ–∑ API –∏ HTML –ø–∞—Ä—Å–∏–Ω–≥ (fallback)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å —É—á–µ—Ç–æ–º —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏ Lmusic.kz
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–∏—Å–∫–∞ –ø–æ –∂–∞–Ω—Ä–∞–º

**LocalProvider:**
- –§–∞–π–ª: `backend/src/modules/music/providers/local-provider.js`
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –≤ `/uploads/music/`
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤ (downloadAndSave)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (getStorageStats)

### 3. **MusicSourceManager**

- –§–∞–π–ª: `backend/src/modules/music/music-source-manager.js`
- **findBestSource()** - –ø–æ–∏—Å–∫ —Ç—Ä–µ–∫–∞ —á–µ—Ä–µ–∑ –≤—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã —Å fallback
- **searchAll()** - –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º
- **downloadAndCache()** - —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
- **verifyTrack()** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- **refreshTrackSource()** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- **batchVerifyTracks()** - –º–∞—Å—Å–æ–≤–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- **getProvidersStats()** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º

### 4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Track Model**

**–ù–æ–≤—ã–µ –ø–æ–ª—è:**
```sql
provider VARCHAR(255)           -- 'local', 'lmusic', 'vk', 'jamendo'
providerTrackId VARCHAR(255)    -- ID —Ç—Ä–µ–∫–∞ —É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
isVerified BOOLEAN              -- true/false/null
lastChecked TIMESTAMP           -- –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
```

**–ú–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏
- –ü—Ä–æ—Å—Ç–∞–≤–ª–µ–Ω provider='lmusic' –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö 215 —Ç—Ä–µ–∫–æ–≤
- –°–æ–∑–¥–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã
- –°—Ç–∞—Ä—ã–µ –ø–æ–ª—è –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ DEPRECATED

### 5. **StreamingStrategy Service**

- –§–∞–π–ª: `backend/src/modules/music/streaming-strategy.service.js`
- **getStreamUrl()** - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:
  1. –õ–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª (–µ—Å–ª–∏ –µ—Å—Ç—å)
  2. –ê–≤—Ç–æ–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö (playCount >= 50)
  3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ URL
  4. –ü–æ–∏—Å–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
  5. –û—à–∏–±–∫–∞ –µ—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- **downloadAndCache()** - —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞
- **autoCache()** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö
- **getStats()** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞

### 6. **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Music Controller**

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞:**
- `streamTrack()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç StreamingStrategy
- `streamLocalFile()` - —Å—Ç—Ä–∏–º–∏–Ω–≥ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- `proxyExternalStream()` - –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö URL
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ isVerified

### 7. **Track Verification Cron**

- –§–∞–π–ª: `backend/src/modules/music/track-verification.cron.js`
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:**
  - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç—Ä–µ–∫–æ–≤: –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤ (00:00, 06:00, 12:00, 18:00)
  - –ê–≤—Ç–æ–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ: –∫–∞–∂–¥—ã–π —á–∞—Å
  - –û—á–∏—Å—Ç–∫–∞ –±–∏—Ç—ã—Ö —Ç—Ä–µ–∫–æ–≤: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 03:00
- **–ú–µ—Ç–æ–¥—ã:**
  - `runVerification()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ 100 —Ç—Ä–µ–∫–æ–≤
  - `runAutoCache()` - –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ 10 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
  - `runCleanup()` - —É–¥–∞–ª–µ–Ω–∏–µ –±–∏—Ç—ã—Ö —Ç—Ä–µ–∫–æ–≤ (isVerified=false, playCount=0, > 7 –¥–Ω–µ–π)

### 8. **Admin API –¥–ª—è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**

**–ù–æ–≤—ã–µ endpoints (`/api/music/system/`):**
```
GET  /stats                  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
POST /verify                 - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
POST /cache                  - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
POST /refresh-track/:id      - –û–±–Ω–æ–≤–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ —Ç—Ä–µ–∫–∞
POST /search-external        - –ü–æ–∏—Å–∫ –Ω–∞ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö
POST /import-external        - –ò–º–ø–æ—Ä—Ç —Ç—Ä–µ–∫–∞
GET  /storage                - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
GET  /providers              - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö
```

### 9. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Backend**

- –û–±–Ω–æ–≤–ª–µ–Ω `backend/src/server.js`
- –î–æ–±–∞–≤–ª–µ–Ω –∑–∞–ø—É—Å–∫ Track Verification Cron
- –û–±–Ω–æ–≤–ª–µ–Ω—ã routes –≤ `music.routes.js`
- –í—Å–µ —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω

---

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö
- **–í—Å–µ–≥–æ —Ç—Ä–µ–∫–æ–≤:** 215
- **–ü—Ä–æ–≤–∞–π–¥–µ—Ä:** lmusic (–≤—Å–µ —Ç—Ä–µ–∫–∏)
- **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:** –≤—Å–µ —Ç—Ä–µ–∫–∏ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (isVerified = null)

### –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- ‚úÖ **LocalProvider** - –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ **LmusicProvider** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- ‚è≥ **VKProvider** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–±—É–¥—É—â–µ–µ)
- ‚è≥ **JamendoProvider** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–±—É–¥—É—â–µ–µ)

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- ‚úÖ Cron –∑–∞–¥–∞—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –ê–≤—Ç–æ–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤ (threshold: 50 –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–π)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –±–∏—Ç—ã—Ö —Ç—Ä–µ–∫–æ–≤

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢–´ SPRINT 1

### –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ:
1. ‚úÖ **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –º—É–∑—ã–∫–∏** —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
2. ‚úÖ **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —Å—Ç—Ä–∏–º–∏–Ω–≥** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤—ã–±–æ—Ä–æ–º –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
3. ‚úÖ **–ê–≤—Ç–æ–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
4. ‚úÖ **–§–æ–Ω–æ–≤–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è** —Ç—Ä–µ–∫–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
5. ‚úÖ **API –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π

### –£–ª—É—á—à–µ–Ω–∏—è:
- ‚¨ÜÔ∏è **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- ‚¨ÜÔ∏è **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ
- ‚¨ÜÔ∏è **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- ‚¨ÜÔ∏è **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–µ—Ä–µ–∑ Admin API

---

## üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò (Sprint 2)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: üî¥ –í–´–°–û–ö–ò–ô

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä–∏–º–∏–Ω–≥ —Ç—Ä–µ–∫–æ–≤
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é

2. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫:**
   - Elasticsearch –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
   - –§–∏–ª—å—Ç—Ä—ã (–∂–∞–Ω—Ä, –≥–æ–¥, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
   - –ü–æ–∏—Å–∫ –ø–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é
   - –í–Ω–µ—à–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

3. **Smart Playlists:**
   - –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∂–∞–Ω—Ä–æ–≤—ã—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
   - –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
   - Discover Weekly
   - –†–∞–¥–∏–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–µ–∫–∞

4. **Frontend Polish:**
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ MusicPlayerContext
   - –ï–¥–∏–Ω—ã–π MusicLayout
   - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞
   - Offline —Ä–µ–∂–∏–º (PWA)

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ù–æ–≤—ã–µ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `node-cron` - –¥–ª—è cron –∑–∞–¥–∞—á (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- `cheerio` - –¥–ª—è HTML –ø–∞—Ä—Å–∏–Ω–≥–∞ (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

### –§–∞–π–ª—ã –°–æ–∑–¥–∞–Ω—ã/–ò–∑–º–µ–Ω–µ–Ω—ã
**–°–æ–∑–¥–∞–Ω–æ:**
- `providers/base-provider.js` (90 —Å—Ç—Ä–æ–∫)
- `providers/lmusic-provider.js` (242 —Å—Ç—Ä–æ–∫–∏)
- `providers/local-provider.js` (210 —Å—Ç—Ä–æ–∫)
- `music-source-manager.js` (324 —Å—Ç—Ä–æ–∫–∏)
- `streaming-strategy.service.js` (268 —Å—Ç—Ä–æ–∫)
- `track-verification.cron.js` (175 —Å—Ç—Ä–æ–∫)
- `music-system-admin.controller.js` (269 —Å—Ç—Ä–æ–∫)
- `migrate-provider-fields.js` (138 —Å—Ç—Ä–æ–∫)

**–ò–∑–º–µ–Ω–µ–Ω–æ:**
- `Track.js` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è provider, isVerified
- `music.controller.js` - –Ω–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞
- `music.routes.js` - –¥–æ–±–∞–≤–ª–µ–Ω—ã /system/* endpoints
- `server.js` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è cron

**–í—Å–µ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–æ:** ~2000 —Å—Ç—Ä–æ–∫ –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞

---

## ‚ö° –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ API

```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
curl http://localhost:3001/api/music/system/stats \
  -H "Authorization: Bearer YOUR_TOKEN"

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è 10 —Ç—Ä–µ–∫–æ–≤
curl -X POST http://localhost:3001/api/music/system/verify \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"limit": 10}'

# –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ 5 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
curl -X POST http://localhost:3001/api/music/system/cache \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"limit": 5}'

# –û–±–Ω–æ–≤–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç—Ä–µ–∫–∞
curl -X POST http://localhost:3001/api/music/system/refresh-track/6723 \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

```javascript
// –í Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker exec errorparty_backend node -e "
const trackVerificationCron = require('./src/modules/music/track-verification.cron');
trackVerificationCron.forceVerification(50).then(console.log);
"
```

---

**–î–∞—Ç–∞:** 03 –¥–µ–∫–∞–±—Ä—è 2025  
**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ SPRINT 1 COMPLETED
