# Sprint 2: Advanced Search & Discovery - COMPLETE ‚úÖ

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 3 –¥–µ–∫–∞–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

---

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
**–§–∞–π–ª:** `backend/src/modules/music/music.controller.js`

**–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `genre` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –∂–∞–Ω—Ä—É (ILIKE)
- `yearFrom`, `yearTo` - –¥–∏–∞–ø–∞–∑–æ–Ω –≥–æ–¥–æ–≤
- `durationMin`, `durationMax` - –¥–∏–∞–ø–∞–∑–æ–Ω –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
- `onlyVerified` - —Ç–æ–ª—å–∫–æ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∏
- `provider` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É (lmusic/local)
- `sortBy` - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (playCount, year, duration, createdAt)
- `order` - –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (ASC/DESC)

**API Endpoint:**
```
GET /api/music/tracks/search?genre=Rock&yearFrom=2000&yearTo=2010&sortBy=playCount&order=DESC
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "success": true,
  "tracks": [...],
  "filters": {
    "onlyVerified": false
  },
  "total": 6
}
```

---

### 2. ‚úÖ Advanced Search Controller
**–§–∞–π–ª:** `backend/src/modules/music/advanced-search.controller.js` (269 —Å—Ç—Ä–æ–∫)

**–ú–µ—Ç–æ–¥—ã:**
1. **advancedSearch()** - –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –ª–æ–∫–∞–ª—å–Ω—ã—Ö + –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
   - –ò—â–µ—Ç –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (Lmusic.kz)
   - –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{local, external}` —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏–º–ø–æ—Ä—Ç–∞

2. **importFromSearch()** - –∏–º–ø–æ—Ä—Ç —Ç—Ä–µ–∫–∞ –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (artist + title)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `musicSourceManager.findBestSource()`
   - –°–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å—å Track —Å –ø–æ–ª—è–º–∏ provider

3. **getSuggestions()** - –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞
   - –ú–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞
   - –ü–æ–∏—Å–∫ –ø–æ title + artist
   - –¢–æ–ø 10 –ø–æ playCount
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{type, id, title, artist, coverUrl, label}`

**API Endpoints:**
```
POST /api/music/tracks/advanced-search
GET  /api/music/tracks/suggestions?q=the
POST /api/music/tracks/import-from-search (auth required)
```

---

### 3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
**–§–∞–π–ª:** `backend/src/modules/music/playlist-generator.service.js` (572 —Å—Ç—Ä–æ–∫–∏)

**–¢–∏–ø—ã –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤:**

#### 3.1. –ü–æ –∂–∞–Ω—Ä–∞–º (`generateGenrePlaylists`)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –ø–ª–µ–π–ª–∏—Å—Ç—ã –¥–ª—è –∂–∞–Ω—Ä–æ–≤ —Å ‚â•10 —Ç—Ä–µ–∫–∞–º–∏
- –§–æ—Ä–º–∞—Ç: `{Genre} Mix`
- –î–æ 50 —Ç—Ä–µ–∫–æ–≤, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ playCount
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 3 –ø–ª–µ–π–ª–∏—Å—Ç–∞ (–ü–æ–ø Mix, Christmas Mix, Pop Mix)

#### 3.2. –ü–æ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è–º (`generateDecadePlaylists`)
- –°–æ–∑–¥–∞—ë—Ç –ø–ª–µ–π–ª–∏—Å—Ç—ã —Ç–∏–ø–∞ "90s Hits", "2000s Hits"
- –ú–∏–Ω–∏–º—É–º 15 —Ç—Ä–µ–∫–æ–≤ –Ω–∞ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏–µ
- –î–æ 50 —Ç—Ä–µ–∫–æ–≤, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ playCount + year
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 0 –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç—Ä–µ–∫–æ–≤ —Å year)

#### 3.3. –ü–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é (`generateMoodPlaylists`)
- 5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π: –≠–Ω–µ—Ä–≥–∏—á–Ω—ã–µ, –°–ø–æ–∫–æ–π–Ω—ã–µ, –†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ, –¢–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–µ, –†–∞–±–æ—á–∏–µ
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∂–∞–Ω—Ä–∞–º + keywords
- –ú–∏–Ω–∏–º—É–º 12 —Ç—Ä–µ–∫–æ–≤
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 3 –ø–ª–µ–π–ª–∏—Å—Ç–∞ (–≠–Ω–µ—Ä–≥–∏—á–Ω—ã–µ, –†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ, –¢–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–µ)

#### 3.4. –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–µ–π—á–∞—Å (`generateTrendingPlaylist`)
- –¢–æ–ø 50 —Ç—Ä–µ–∫–æ–≤ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ playCount + updatedAt
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 1 –ø–ª–µ–π–ª–∏—Å—Ç (50 —Ç—Ä–µ–∫–æ–≤)

**API Endpoint:**
```
POST /api/music/playlists/generate
Body: { type: 'all' | 'genres' | 'decades' | 'moods' | 'trending' }
```

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
```
üìä Total playlists created/updated: 7
  ‚úì Trending: 1
  ‚úì Genres: 3
  ‚úì Decades: 0
  ‚úì Moods: 3
```

---

### 4. ‚úÖ Discover Weekly - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
**–§–∞–π–ª:** `backend/src/modules/music/discover-weekly.service.js` (339 —Å—Ç—Ä–æ–∫)

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –∑–∞ 90 –¥–Ω–µ–π
2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π:
   - –¢–æ–ø-3 –∂–∞–Ω—Ä–∞
   - –¢–æ–ø-5 –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
   - –°—Ä–µ–¥–Ω–∏–π –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞
   - –î–∏–∞–ø–∞–∑–æ–Ω –≥–æ–¥–æ–≤
3. –ü–æ–∏—Å–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:
   - –§–∏–ª—å—Ç—Ä –ø–æ —Ç–æ–ø –∂–∞–Ω—Ä–∞–º
   - ¬±10 –ª–µ—Ç –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ –≥–æ–¥–∞
   - –ò—Å–∫–ª—é—á–µ–Ω–∏–µ —É–∂–µ –ø—Ä–æ—Å–ª—É—à–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
   - –ë–æ–Ω—É—Å –¥–ª—è –∑–Ω–∞–∫–æ–º—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
4. –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞ "Discover Weekly" (–¥–æ 30 —Ç—Ä–µ–∫–æ–≤)

**–ú–µ—Ç–æ–¥—ã:**
- `generateDiscoverWeekly(userId)` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `generateForAllUsers()` - –º–∞—Å—Å–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `analyzeUserPreferences()` - –∞–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
- `findRecommendations()` - –ø–æ–∏—Å–∫ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Ç—Ä–µ–∫–æ–≤

**API Endpoint:**
```
GET /api/music/playlists/discover-weekly (auth required)
```

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:** 5+ –ø—Ä–æ—Å–ª—É—à–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤

---

### 5. ‚úÖ Track Radio - –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –æ—á–µ—Ä–µ–¥—å
**–§–∞–π–ª:** `backend/src/modules/music/track-radio.service.js` (436 —Å—Ç—Ä–æ–∫)

**–ê–ª–≥–æ—Ä–∏—Ç–º –æ—Ü–µ–Ω–∫–∏ –ø–æ—Ö–æ–∂–µ—Å—Ç–∏:**
- **40%** - —Ç–æ—Ç –∂–µ –∂–∞–Ω—Ä
- **30%** - —Ç–æ—Ç –∂–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å  
- **20%** - –ø–æ—Ö–æ–∂–∏–π –≥–æ–¥ (¬±5 –ª–µ—Ç, –≥—Ä–∞–¥–∏–µ–Ω—Ç)
- **10%** - –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å (playCount)

**–†–µ–∂–∏–º—ã:**

#### 5.1. –†–∞–¥–∏–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–µ–∫–∞
```
GET /api/music/radio/track/:id?limit=50
```
- –ù–∞—Ö–æ–¥–∏—Ç –ø–æ—Ö–æ–∂–∏–µ —Ç—Ä–µ–∫–∏
- –ò—Å–∫–ª—é—á–∞–µ—Ç —É–∂–µ –ø—Ä–æ—Å–ª—É—à–∞–Ω–Ω—ã–µ (–µ—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–æ 50 —Ç—Ä–µ–∫–æ–≤ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º –ø–æ—Ö–æ–∂–µ—Å—Ç–∏

#### 5.2. –ú–∏–∫—Å-—Ä–∞–¥–∏–æ (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç—Ä–µ–∫–æ–≤)
```
POST /api/music/radio/mix
Body: { trackIds: [id1, id2, ...], limit: 50 }
```
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–±—â–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- –ù–∞—Ö–æ–¥–∏—Ç —Ç—Ä–µ–∫–∏ –ø–æ—Ö–æ–∂–∏—Ö –∂–∞–Ω—Ä–æ–≤
- –ë–æ–Ω—É—Å –¥–ª—è –∑–Ω–∞–∫–æ–º—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π

#### 5.3. –†–∞–¥–∏–æ –ø–æ –∂–∞–Ω—Ä—É
```
GET /api/music/radio/genre/:genre?limit=50
```
- –í—Å–µ —Ç—Ä–µ–∫–∏ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∂–∞–Ω—Ä–∞
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ—Å–ª—É—à–∞–Ω–Ω—ã—Ö
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏

#### 5.4. –†–∞–¥–∏–æ –ø–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é
```
GET /api/music/radio/artist/:artist?limit=50
```
- –í—Å–µ —Ç—Ä–µ–∫–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ—Å–ª—É—à–∞–Ω–Ω—ã—Ö
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ + –≥–æ–¥

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (Cron Jobs)

**–§–∞–π–ª:** `backend/src/modules/music/track-verification.cron.js`

**–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:**
- **–ö–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤** (00:00, 06:00, 12:00, 18:00): –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç—Ä–µ–∫–æ–≤
- **–ö–∞–∂–¥—ã–π —á–∞—Å**: –ê–≤—Ç–æ–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
- **–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 03:00**: –û—á–∏—Å—Ç–∫–∞ –±–∏—Ç—ã—Ö —Ç—Ä–µ–∫–æ–≤
- **–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 04:00**: –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
- **–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 05:00**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Discover Weekly –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üìä API Endpoints Summary

### –ü–æ–∏—Å–∫ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/api/music/tracks/search` | Public | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ —Å 7 —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ |
| GET | `/api/music/tracks/suggestions` | Public | –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ (–º–∏–Ω. 2 —Å–∏–º–≤–æ–ª–∞) |
| POST | `/api/music/tracks/advanced-search` | Public | –õ–æ–∫–∞–ª—å–Ω—ã–π + –≤–Ω–µ—à–Ω–∏–π –ø–æ–∏—Å–∫ |
| POST | `/api/music/tracks/import-from-search` | Admin | –ò–º–ø–æ—Ä—Ç –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ |

### –ü–ª–µ–π–ª–∏—Å—Ç—ã
| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| POST | `/api/music/playlists/generate` | Admin | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ |
| GET | `/api/music/playlists/discover-weekly` | User | –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ |

### Track Radio
| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/api/music/radio/track/:id` | Public | –†–∞–¥–∏–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–µ–∫–∞ |
| POST | `/api/music/radio/mix` | Public | –ú–∏–∫—Å-—Ä–∞–¥–∏–æ (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç—Ä–µ–∫–æ–≤) |
| GET | `/api/music/radio/genre/:genre` | Public | –†–∞–¥–∏–æ –ø–æ –∂–∞–Ω—Ä—É |
| GET | `/api/music/radio/artist/:artist` | Public | –†–∞–¥–∏–æ –ø–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é |

---

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
```bash
curl "http://localhost:3001/api/music/tracks/search?genre=Rock&sortBy=playCount&order=DESC&limit=3"
# ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 3 —Ç—Ä–µ–∫–∞ –∂–∞–Ω—Ä–∞ Rock, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏
```

### –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
```bash
curl "http://localhost:3001/api/music/tracks/suggestions?q=the"
# ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 10 –ø–æ–¥—Å–∫–∞–∑–æ–∫ (—Ç—Ä–µ–∫–∏ —Å "the" –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏/–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ)
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
```bash
docker exec errorparty_backend node -e \
  "require('./src/modules/music/playlist-generator.service').generateAllPlaylists().then(r => console.log(r.summary))"
# ‚úÖ 7 –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤: 1 trending, 3 genre, 3 mood
```

### Track Radio
```bash
curl "http://localhost:3001/api/music/radio/track/6750?limit=5"
# ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 2 –ø–æ—Ö–æ–∂–∏—Ö —Ç—Ä–µ–∫–∞ –Ω–∞ "12 to 12" by sombr
```

### Genre Radio
```bash
curl "http://localhost:3001/api/music/radio/genre/Rock?limit=5"
# ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 4 —Ç—Ä–µ–∫–∞ –∂–∞–Ω—Ä–∞ Rock
```

### Mix Radio
```bash
curl -X POST "http://localhost:3001/api/music/radio/mix" \
  -H "Content-Type: application/json" \
  -d '{"trackIds":[6750,6749,6735],"limit":5}'
# ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1 —Ç—Ä–µ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ 3 –∏—Å—Ö–æ–¥–Ω—ã—Ö
```

---

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã Sprint 2

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
1. `advanced-search.controller.js` - 269 —Å—Ç—Ä–æ–∫
2. `playlist-generator.service.js` - 572 —Å—Ç—Ä–æ–∫–∏
3. `discover-weekly.service.js` - 339 —Å—Ç—Ä–æ–∫
4. `track-radio.service.js` - 436 —Å—Ç—Ä–æ–∫

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
1. `music.controller.js` - –¥–æ–±–∞–≤–ª–µ–Ω–æ 7 —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ searchTracks
2. `music.routes.js` - –¥–æ–±–∞–≤–ª–µ–Ω–æ 8 –Ω–æ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
3. `track-verification.cron.js` - –¥–æ–±–∞–≤–ª–µ–Ω–æ 2 cron –∑–∞–¥–∞—á–∏

### –ò—Ç–æ–≥–∏
- ‚úÖ **–í—Å–µ 6 –∑–∞–¥–∞—á Sprint 2 –≤—ã–ø–æ–ª–Ω–µ–Ω—ã**
- ‚úÖ **15 –Ω–æ–≤—ã—Ö API endpoints**
- ‚úÖ **7 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω—ã**
- ‚úÖ **4 —Ä–µ–∂–∏–º–∞ Track Radio —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã**
- ‚úÖ **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ Discover Weekly**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ cron (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)**

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–¥–∞
- **–ù–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫:** ~1,616
- **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 4
- **–ò–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 3
- **API endpoints:** +15
- **Cron jobs:** +2

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

Sprint 2 –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à—ë–Ω. –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:
- ‚úÖ Advanced Search —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ (7 —Ç–∏–ø–æ–≤)
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ Discover Weekly
- ‚úÖ Track Radio (4 —Ä–µ–∂–∏–º–∞)
- ‚úÖ –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ cron

**–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º –ø–æ–∏—Å–∫–æ–º, –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏ —Ä–∞–¥–∏–æ!** üéâ
