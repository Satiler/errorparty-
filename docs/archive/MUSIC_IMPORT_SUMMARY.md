# –ò–º–ø–æ—Ä—Ç –º—É–∑—ã–∫–∏ - –ò—Ç–æ–≥–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## ‚úÖ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- **585 –∞–ª—å–±–æ–º–æ–≤** (70% –∑–∞–ø–æ–ª–Ω–µ–Ω—ã)
- **4494 —Ç—Ä–µ–∫–∞** —Å —Ä–∞–±–æ—á–∏–º–∏ URL (100%)
- **–°—Ä–µ–¥–Ω–µ–µ: 11 —Ç—Ä–µ–∫–æ–≤ –Ω–∞ –∞–ª—å–±–æ–º**

## üéµ –†–∞–±–æ—Ç–∞—é—â–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

### 1. iTunes RSS Charts ‚≠ê –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ, –ë–ï–ó API –∫–ª—é—á–µ–π!

**–ß—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ:**
- –¢–æ–ø-100 —á–∞—Ä—Ç–æ–≤ –∏–∑ –ª—é–±–æ–π —Å—Ç—Ä–∞–Ω—ã (US, RU, GB, DE, FR, JP –∏ –¥—Ä.)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—Ä–µ–∫–∞—Ö: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å, –∞–ª—å–±–æ–º, –∂–∞–Ω—Ä
- –û–±–ª–æ–∂–∫–∏ –∞–ª—å–±–æ–º–æ–≤
- Preview URL (30 —Å–µ–∫—É–Ω–¥)

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
# –ò–º–ø–æ—Ä—Ç –∏–∑ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω—ã
docker exec errorparty_backend node /app/import-from-itunes.js

# –ò–º–ø–æ—Ä—Ç –∏–∑ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω
docker exec errorparty_backend node /app/import-from-itunes-final.js

# –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç—Ä–∞–Ω—ã: us, ru, gb, de, fr, jp, ca, au, br, mx, es, it
```

**API URL:**
```
https://itunes.apple.com/{country}/rss/topsongs/limit={limit}/json
```

### 2. –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏

**–ü—Ä–æ–±–ª–µ–º—ã:**
- HTML –ø–∞—Ä—Å–µ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–∏–∑–º–µ–Ω–∏–ª—Å—è layout)
- Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ç—Ä–µ–±—É–µ—Ç Python –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- –ù—É–∂–µ–Ω —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Python –≤ Docker –æ–±—Ä–∞–∑
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `yandex-music` –±–∏–±–ª–∏–æ—Ç–µ–∫—É
3. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω (—Å–º. `YANDEX_MUSIC_SETUP.md`)

**–ò–ª–∏:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å iTunes RSS (—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Ç–æ–∫–µ–Ω–æ–≤!)

### 3. VK Music API
**–°—Ç–∞—Ç—É—Å:** ‚ùå –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∫–∞–ø—á–µ–π

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ö–∞–ø—á–∞ –Ω–∞ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
- Anti-Captcha –Ω–µ —Ä–µ—à–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –¢—Ä–µ–±—É—é—Ç—Å—è –ø–ª–∞—Ç–Ω—ã–µ —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏ (—Å–º. `PROXY_SETUP_GUIDE.md`)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–ª–∞—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (Smartproxy, IPRoyal)
- –ò–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π VK —Ç–æ–∫–µ–Ω

### 4. Lmusic.kz / Musify
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ –Ω–∞—Ö–æ–¥–∏—Ç stream URL –¥–ª—è –º–Ω–æ–≥–∏—Ö —Ç—Ä–µ–∫–æ–≤
- API –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

## üìã –ì–æ—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### –ò–º–ø–æ—Ä—Ç
```bash
# iTunes (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker exec errorparty_backend node /app/import-from-itunes-final.js

# –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (iTunes + –Ø–Ω–¥–µ–∫—Å)
docker exec errorparty_backend node /app/import-music-all-sources.js

# –¢–æ–ª—å–∫–æ –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞
docker exec errorparty_backend node /app/import-from-yandex.js
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```bash
# –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
docker exec errorparty_backend node /app/check-music-stats.js
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
```bash
# iTunes
docker exec errorparty_backend node -e "const itunes = require('./src/services/lastfm.service'); itunes.getTopSongs('us', 5).then(console.log)"

# VK (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
docker exec errorparty_backend node -e "const vk = require('./src/services/vk-music.service'); vk.searchTracks('Imagine Dragons', 3).then(console.log)"
```

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

### ‚ö†Ô∏è –í–ê–ñ–ù–û: iTunes —Ç–æ–ª—å–∫–æ –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö!

iTunes/Apple Music API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ 30-—Å–µ–∫—É–Ω–¥–Ω—ã–µ preview.
**–ù–ï –ò–ú–ü–û–†–¢–ò–†–û–í–ê–¢–¨** —Ç—Ä–µ–∫–∏ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ iTunes!

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
iTunes API ‚Üí —É–∑–Ω–∞—Ç—å –ß–¢–û –ø–æ–ø—É–ª—è—Ä–Ω–æ (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
           ‚Üì
VK/Lmusic/Yandex ‚Üí –ø–æ–ª—É—á–∏—Ç—å –ü–û–õ–ù–´–ï —Ç—Ä–µ–∫–∏
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 1: iTunes –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ + VK Music (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê

‚úÖ iTunes - —Å–ø–∏—Å–æ–∫ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤ (—á–∞—Ä—Ç—ã, –ø–æ–∑–∏—Ü–∏–∏)
‚úÖ VK Music - –ø–æ–ª–Ω—ã–µ —Ç—Ä–µ–∫–∏ (–Ω–µ preview!)
‚úÖ –û–≥—Ä–æ–º–Ω–∞—è –±–∞–∑–∞ —Ä—É—Å—Å–∫–æ–π –∏ –∑–∞—Ä—É–±–µ–∂–Ω–æ–π –º—É–∑—ã–∫–∏
‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

**–ó–∞–ø—É—Å–∫:**
```bash
# –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ preview —Ç—Ä–µ–∫–∏
docker exec errorparty_backend node /app/cleanup-preview-tracks.js

# –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ (iTunes –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ ‚Üí VK –ø–æ–ª–Ω—ã–µ —Ç—Ä–µ–∫–∏)
docker exec errorparty_backend node /app/import-from-charts.js
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: iTunes + Lmusic.kz (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
‚úÖ –ü–æ–ª–Ω—ã–µ —Ç—Ä–µ–∫–∏ —Å –ø—Ä—è–º—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏
‚ö†Ô∏è –ú–µ–Ω—å—à–∞—è –±–∞–∑–∞ —á–µ–º VK

**–ó–∞–ø—É—Å–∫:**
```bash
docker exec errorparty_backend node /app/import-from-charts.js
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø—Ä–æ–±—É–µ—Ç VK ‚Üí Lmusic ‚Üí Yandex
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: iTunes + –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞ (—Ä—É—Å—Å–∫–∞—è –º—É–∑—ã–∫–∞)

‚úÖ –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä—É—Å—Å–∫–∞—è –º—É–∑—ã–∫–∞
‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API
‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–ª–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤ (–∏–Ω–∞—á–µ preview)

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
# Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
docker exec errorparty_backend pip3 install yandex-music

# –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω (—Å–º. YANDEX_MUSIC_SETUP.md)
# –î–æ–±–∞–≤–∏—Ç—å –≤ .env: YANDEX_MUSIC_TOKEN=your_token
```
- –ö—É–ø–∏—Ç—å –ø—Ä–æ–∫—Å–∏ –Ω–∞ Smartproxy/ProxyRack
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 1. Stream URL –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç—Ä–µ–∫–æ–≤
–ú–Ω–æ–≥–∏–µ —Ç—Ä–µ–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã, –Ω–æ –±–µ–∑ –ø–æ–ª–Ω—ã—Ö stream URL. –í–∞—Ä–∏–∞–Ω—Ç—ã:

#### A. YouTube Music API
```bash
npm install ytdl-core
# –ü–æ–∏—Å–∫ —Ç—Ä–µ–∫–æ–≤ –Ω–∞ YouTube –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ stream URL
```

#### B. Spotify API (–ª–µ–≥–∞–ª—å–Ω–æ, –Ω–æ —Ç–æ–ª—å–∫–æ preview)
```bash
npm install spotify-web-api-node
# –¢—Ä–µ–±—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

#### C. –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
- –ó–∞–≥—Ä—É–∑–∏—Ç—å MP3 —Ñ–∞–π–ª—ã
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ `/uploads/music/`
- –û–±–Ω–æ–≤–∏—Ç—å `streamUrl` –≤ –±–∞–∑–µ

### 2. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Ä—Ç–æ–≤
```javascript
// –°–æ—Ö—Ä–∞–Ω—è—Ç—å —á–∞—Ä—Ç—ã –≤ Redis
// –û–±–Ω–æ–≤–ª—è—Ç—å —Ä–∞–∑ –≤ –¥–µ–Ω—å
// –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```

### 3. CDN –¥–ª—è –æ–±–ª–æ–∂–µ–∫
```javascript
// –ó–∞–≥—Ä—É–∂–∞—Ç—å –æ–±–ª–æ–∂–∫–∏ –Ω–∞ CloudFlare R2 / S3
// –£–º–µ–Ω—å—à–∞—Ç—å —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
// –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ UI
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `PROXY_SETUP_GUIDE.md` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –í–ö
- `PROXY_QUICKSTART.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å –ø—Ä–æ–∫—Å–∏
- `YANDEX_MUSIC_SETUP.md` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞ API
- `MUSIC_IMPORT_EXAMPLES.md` - –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üéØ –ò—Ç–æ–≥–∏

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
- ‚úÖ **4494 —Ç—Ä–µ–∫–∞** –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ **iTunes RSS** - —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç** –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ **–ß–∞—Ä—Ç—ã –∏–∑ 6 —Å—Ç—Ä–∞–Ω** –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã

### –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚ö†Ô∏è
- ‚ö†Ô∏è –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞ (–Ω—É–∂–µ–Ω Python + —Ç–æ–∫–µ–Ω)
- ‚ö†Ô∏è VK API (–Ω—É–∂–Ω—ã –ø—Ä–æ–∫—Å–∏)
- ‚ö†Ô∏è Stream URL –¥–ª—è full —Ç—Ä–µ–∫–æ–≤

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ üöÄ
1. ‚úÖ –ú—É–∑—ã–∫–∞ –≥–æ—Ç–æ–≤–∞ - –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–ª–µ–µ—Ä!
2. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞
3. –î–ª—è –±–æ–ª—å—à–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞: –¥–æ–±–∞–≤–∏—Ç—å YouTube Music
4. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏ –¥–ª—è –í–ö

**–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ**
