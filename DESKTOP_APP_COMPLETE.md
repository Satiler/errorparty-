# üéâ Desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ!

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ Tauri

```
src-tauri/
‚îú‚îÄ‚îÄ src/main.rs           # ‚úÖ Rust –±—ç–∫–µ–Ω–¥ (—Å–∏—Å—Ç–µ–º–Ω—ã–π —Ç—Ä–µ–π, —Ö–æ—Ç–∫–µ–∏)
‚îú‚îÄ‚îÄ Cargo.toml            # ‚úÖ Rust –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ tauri.conf.json       # ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ build.rs              # ‚úÖ Build script
‚îî‚îÄ‚îÄ icons/                # ‚úÖ –ò–∫–æ–Ω–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (7 —Ñ–∞–π–ª–æ–≤)
```

### 2. Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–§–∞–π–ª—ã:**
- ‚úÖ [frontend/src/hooks/useTauri.js](frontend/src/hooks/useTauri.js) - –•—É–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Tauri API
- ‚úÖ [package.json](package.json) - –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞ –∏ —Å–±–æ—Ä–∫–∏
- ‚úÖ [frontend/package.json](frontend/package.json) - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Tauri CLI

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- `useTauriMediaKeys(audioRef)` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞-–∫–ª–∞–≤–∏—à
- `useTauriNotifications()` - –ù–∞—Ç–∏–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `isTauriApp()` - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### 3. –°–∏—Å—Ç–µ–º–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –°–∏—Å—Ç–µ–º–Ω—ã–π —Ç—Ä–µ–π
```rust
üñ±Ô∏è –õ–µ–≤—ã–π –∫–ª–∏–∫ ‚Üí –ü–æ–∫–∞–∑–∞—Ç—å/–°–∫—Ä—ã—Ç—å –æ–∫–Ω–æ
üñ±Ô∏è –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí –ú–µ–Ω—é:
   ‚èØÔ∏è –ü–∞—É–∑–∞/–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏
   ‚è≠Ô∏è –°–ª–µ–¥—É—é—â–∏–π —Ç—Ä–µ–∫
   ‚èÆÔ∏è –ü—Ä–µ–¥—ã–¥—É—â–∏–π —Ç—Ä–µ–∫
   üö™ –í—ã—Ö–æ–¥
```

#### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –º–µ–¥–∏–∞-–∫–ª–∞–≤–∏—à–∏
```
MediaPlayPause    ‚Üí Play/Pause —Ç—Ä–µ–∫–∞
MediaTrackNext    ‚Üí –°–ª–µ–¥—É—é—â–∏–π —Ç—Ä–µ–∫
MediaTrackPrevious ‚Üí –ü—Ä–µ–¥—ã–¥—É—â–∏–π —Ç—Ä–µ–∫
```

#### –ü–æ–≤–µ–¥–µ–Ω–∏–µ –æ–∫–Ω–∞
- ‚ùå –ó–∞–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ ‚Üí –°–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –≤ —Ç—Ä–µ–π
- üö™ –ü–æ–ª–Ω—ã–π –≤—ã—Ö–æ–¥ ‚Üí –ß–µ—Ä–µ–∑ –º–µ–Ω—é —Ç—Ä–µ—è

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ [DESKTOP_APP_GUIDE.md](DESKTOP_APP_GUIDE.md) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ (300+ —Å—Ç—Ä–æ–∫)
- ‚úÖ [DESKTOP_QUICKSTART.md](DESKTOP_QUICKSTART.md) - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- ‚úÖ [VS_BUILD_TOOLS_INSTALL.md](VS_BUILD_TOOLS_INSTALL.md) - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ [src-tauri/README.md](src-tauri/README.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Rust —á–∞—Å—Ç–∏

### 5. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- üì¶ –ù–∞–∑–≤–∞–Ω–∏–µ: ErrorParty
- üÜî Bundle ID: `ru.errorparty.app`
- üìè –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞: 1280x800 (–º–∏–Ω. 900x600)
- üé® –ö–∞—Ç–µ–≥–æ—Ä–∏—è: Music
- üåç –Ø–∑—ã–∫: –†—É—Å—Å–∫–∏–π

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- ‚úÖ CSP –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è errorparty.ru + localhost:3001
- ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏—è: notification, systemTray, globalShortcut
- ‚úÖ –ü—Ä–æ—Ç–æ–∫–æ–ª: HTTPS + WSS –¥–ª—è production

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

**1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Rust** (–µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤–æ):
```powershell
Invoke-WebRequest -Uri https://win.rustup.rs -OutFile rustup-init.exe
.\rustup-init.exe -y
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª!
```

**2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Visual Studio Build Tools** (–µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤–æ):
- –°–∫–∞—á–∞—Ç—å: https://aka.ms/vs/17/release/vs_BuildTools.exe
- –í—ã–±—Ä–∞—Ç—å: "Desktop development with C++"
- –†–∞–∑–º–µ—Ä: ~3 –ì–ë

**3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```powershell
npm install
```

**4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ dev —Ä–µ–∂–∏–º–µ:**
```powershell
npm run tauri:dev
```
–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –∑–∞–π–º—ë—Ç 2-3 –º–∏–Ω—É—Ç—ã (–∫–æ–º–ø–∏–ª—è—Ü–∏—è Rust).

### –î–ª—è production —Å–±–æ—Ä–∫–∏:

```powershell
npm run tauri:build
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
src-tauri/target/release/bundle/
‚îú‚îÄ‚îÄ nsis/
‚îÇ   ‚îî‚îÄ‚îÄ ErrorParty_1.0.0_x64-setup.exe   (~5 –ú–ë)
‚îî‚îÄ‚îÄ msi/
    ‚îî‚îÄ‚îÄ ErrorParty_1.0.0_x64_en-US.msi   (~5 –ú–ë)
```

---

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Desktop (Tauri) | –í–µ–±-–≤–µ—Ä—Å–∏—è |
|---|---|---|
| **–†–∞–∑–º–µ—Ä** | 3-5 –ú–ë | - |
| **–ü–∞–º—è—Ç—å** | 50-100 –ú–ë | 200-300 –ú–ë |
| **–°–∏—Å—Ç–µ–º–Ω—ã–π —Ç—Ä–µ–π** | ‚úÖ | ‚ùå |
| **–ú–µ–¥–∏–∞-–∫–ª–∞–≤–∏—à–∏** | ‚úÖ | ‚ùå |
| **–ù–∞—Ç–∏–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** | ‚úÖ | –¢—Ä–µ–±—É—é—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è |
| **–†–∞–±–æ—Ç–∞ –æ—Ñ—Ñ–ª–∞–π–Ω** | ‚úÖ | –ß–∞—Å—Ç–∏—á–Ω–æ (PWA) |
| **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫** | ‚úÖ | ‚ùå |

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

### –ú–µ–¥–∏–∞-–∫–ª–∞–≤–∏—à–∏:

```javascript
import { useTauriMediaKeys } from '@/hooks/useTauri';

function MusicPlayer() {
  const audioRef = useRef(null);
  useTauriMediaKeys(audioRef); // –ü–æ–¥–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É
  
  useEffect(() => {
    const handleNext = () => playNextTrack();
    window.addEventListener('tauri-next-track', handleNext);
    return () => window.removeEventListener('tauri-next-track', handleNext);
  }, []);
  
  return <audio ref={audioRef} />;
}
```

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:

```javascript
import { useTauriNotifications } from '@/hooks/useTauri';

function TrackChange({ track }) {
  const { showNotification } = useTauriNotifications();
  
  useEffect(() => {
    showNotification(
      'üéµ –°–µ–π—á–∞—Å –∏–≥—Ä–∞–µ—Ç',
      `${track.artist} - ${track.title}`,
      track.coverUrl
    );
  }, [track.id]);
}
```

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—ã:

```javascript
import { isTauriApp } from '@/hooks/useTauri';

if (isTauriApp()) {
  console.log('Desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ');
} else {
  console.log('–í–µ–±-–≤–µ—Ä—Å–∏—è');
}
```

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- `package.json` - –ö–æ—Ä–Ω–µ–≤—ã–µ npm —Å–∫—Ä–∏–ø—Ç—ã
- `frontend/package.json` - –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã
- `.gitignore` - –î–æ–±–∞–≤–ª–µ–Ω—ã Tauri –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

**Tauri –±—ç–∫–µ–Ω–¥:**
- `src-tauri/Cargo.toml` - Rust –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `src-tauri/tauri.conf.json` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `src-tauri/src/main.rs` - –°–∏—Å—Ç–µ–º–Ω—ã–π —Ç—Ä–µ–π + —Ö–æ—Ç–∫–µ–∏ (140 —Å—Ç—Ä–æ–∫)
- `src-tauri/build.rs` - Build script
- `src-tauri/icons/` - 7 –∏–∫–æ–Ω–æ–∫
- `src-tauri/.gitignore` - Git ignore –¥–ª—è Rust

**Frontend:**
- `frontend/src/hooks/useTauri.js` - React —Ö—É–∫–∏ (80 —Å—Ç—Ä–æ–∫)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `DESKTOP_APP_GUIDE.md` - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ (300 —Å—Ç—Ä–æ–∫)
- `DESKTOP_QUICKSTART.md` - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `VS_BUILD_TOOLS_INSTALL.md` - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- `src-tauri/README.md` - Rust –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üéâ –ò—Ç–æ–≥

**–°–æ–∑–¥–∞–Ω–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Tauri:**

‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–π —Ç—Ä–µ–π —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–º –º–µ–Ω—é  
‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –º–µ–¥–∏–∞-–∫–ª–∞–≤–∏—à–∏  
‚úÖ –ù–∞—Ç–∏–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è  
‚úÖ –°–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –≤ —Ç—Ä–µ–π –≤–º–µ—Å—Ç–æ –∑–∞–∫—Ä—ã—Ç–∏—è  
‚úÖ React —Ö—É–∫–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏  
‚úÖ –†–∞–∑–º–µ—Ä 3-5 –ú–ë (–≤ 30 —Ä–∞–∑ –ª–µ–≥—á–µ Electron)  
‚úÖ Windows/Mac/Linux –ø–æ–¥–¥–µ—Ä–∂–∫–∞  
‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  

**–ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!** üöÄ

–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: `npm install` ‚Üí `npm run tauri:dev`
