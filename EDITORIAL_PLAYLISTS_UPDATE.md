# ‚úÖ Editorial –ü–ª–µ–π–ª–∏—Å—Ç—ã - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

## üéµ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. **–°–æ–∑–¥–∞–Ω–æ 5 –Ω–æ–≤—ã—Ö Editorial –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤** (25.12.2025 14:38)
- **üî• –¢–æ–ø 100 –•–∏—Ç–æ–≤** - 100 —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
- **üÜï –ù–æ–≤–∏–Ω–∫–∏ –ú–µ—Å—è—Ü–∞** - 50 —Å–≤–µ–∂–∏—Ö —Ç—Ä–µ–∫–æ–≤ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π)
- **üíã KissVK –•–∏—Ç—ã** - 50 –ª—É—á—à–∏—Ö —Ç—Ä–µ–∫–æ–≤ –∏–∑ KissVK
- **üòå –†–µ–ª–∞–∫—Å** - 5 —Å–ø–æ–∫–æ–π–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
- **üî• –û—Ç–∫—Ä—ã—Ç–∏—è –ù–µ–¥–µ–ª–∏** - 30 –Ω–æ–≤—ã—Ö —Ç—Ä–µ–∫–æ–≤ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π)

### 2. **–ó–∞–≥—Ä—É–∂–µ–Ω—ã –æ–±–ª–æ–∂–∫–∏ –∏–∑ iTunes API**
- –û–±–Ω–æ–≤–ª–µ–Ω–æ —Å 911 –¥–æ 944 —Ç—Ä–µ–∫–æ–≤ —Å –æ–±–ª–æ–∂–∫–∞–º–∏ (55.1%)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ iTunes Search API
- –ë–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ API –∫–ª—é—á–∞

### 3. **API Endpoint –¥–ª—è Editorial –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤**
- ‚úÖ Endpoint: `GET /api/music/playlists/editorial`
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã no-cache –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 10 –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤

### 4. **Frontend Integration**
- ‚úÖ MusicHomePage.jsx —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/playlists/editorial`
- ‚úÖ –°–µ–∫—Ü–∏—è "–ù–µ–¥–∞–≤–Ω–æ —Å–ª—É—à–∞–ª" - –ø–µ—Ä–≤—ã–µ 6 editorial –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
- ‚úÖ –°–µ–∫—Ü–∏—è "–î–ª—è –≤–∞—Å" - —Å–ª–µ–¥—É—é—â–∏–µ 6 editorial –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
- ‚úÖ –°–µ–∫—Ü–∏—è "–í—Å–µ –ø–æ–¥–±–æ—Ä–∫–∏" - –≤—Å–µ 20 editorial –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤

---

## üîß –ö–∞–∫ —É–≤–∏–¥–µ—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### ‚ö†Ô∏è **–í–ê–ñ–ù–û**: –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞!

API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–æ –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–ª–µ–π–ª–∏—Å—Ç—ã.

### –°–ø–æ—Å–æ–± 1: Hard Refresh (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **Windows**: `Ctrl + F5` –∏–ª–∏ `Ctrl + Shift + R`
- **Mac**: `Cmd + Shift + R`
- **Linux**: `Ctrl + F5`

### –°–ø–æ—Å–æ–± 2: –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ —á–µ—Ä–µ–∑ DevTools
1. –û—Ç–∫—Ä–æ–π—Ç–µ `F12` (Developer Tools)
2. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. –í—ã–±–µ—Ä–∏—Ç–µ **"–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –∏ –∂—ë—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞"**

### –°–ø–æ—Å–æ–± 3: –†–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ
1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤–æ–µ –æ–∫–Ω–æ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ:
   - Chrome: `Ctrl + Shift + N`
   - Firefox: `Ctrl + Shift + P`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `https://errorparty.ru/music`

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API

### –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
–û—Ç–∫—Ä–æ–π—Ç–µ: https://errorparty.ru/test-editorial.html

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å 10 –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ —Å –æ–±–ª–æ–∂–∫–∞–º–∏:
1. **üî• –û—Ç–∫—Ä—ã—Ç–∏—è –ù–µ–¥–µ–ª–∏** (30 —Ç—Ä–µ–∫–æ–≤)
2. **üòå –†–µ–ª–∞–∫—Å** (5 —Ç—Ä–µ–∫–æ–≤) - –±–µ–∑ –æ–±–ª–æ–∂–∫–∏
3. **üíã KissVK –•–∏—Ç—ã** (50 —Ç—Ä–µ–∫–æ–≤)
4. **üÜï –ù–æ–≤–∏–Ω–∫–∏ –ú–µ—Å—è—Ü–∞** (50 —Ç—Ä–µ–∫–æ–≤)
5. **üî• –¢–æ–ø 100 –•–∏—Ç–æ–≤** (100 —Ç—Ä–µ–∫–æ–≤)
6. + –µ—â—ë 5 —Å—Ç–∞—Ä—ã—Ö editorial –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤

### –ü—Ä—è–º–æ–π API –∑–∞–ø—Ä–æ—Å
```bash
curl https://errorparty.ru/api/music/playlists/editorial
```

---

## üìù –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –¢—Ä–µ–∫–∏
- **–í—Å–µ–≥–æ**: 1,714 —Ç—Ä–µ–∫–æ–≤
- **KissVK**: 595 (100% –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã)
- **–†—É—á–Ω—ã–µ**: 1,119
- **–° –æ–±–ª–æ–∂–∫–∞–º–∏**: 944 (55.1%)

### –ü–ª–µ–π–ª–∏—Å—Ç—ã
- **Editorial**: 10 –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
- **–í—Å–µ–≥–æ —Ç—Ä–µ–∫–æ–≤**: 285 –≤ –Ω–æ–≤—ã—Ö 5 –ø–ª–µ–π–ª–∏—Å—Ç–∞—Ö
- **–ö–∞—á–µ—Å—Ç–≤–æ**: ‚â•192kbps (—Ñ–∏–ª—å—Ç—Ä –≤–∫–ª—é—á–µ–Ω)

### –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **VKAudioDecoder v3**: 100% —É—Å–ø–µ—Ö
- **KissVK Service**: Singleton pattern
- **Docker**: /app/uploads/audio volume

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –æ–±–ª–æ–∂–µ–∫
```bash
docker-compose exec backend node rebuild-playlists-improved.js
```
–ü—Ä–æ–¥–æ–ª–∂–∏—Ç –∑–∞–≥—Ä—É–∑–∫—É –æ–±–ª–æ–∂–µ–∫ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö 770 —Ç—Ä–µ–∫–æ–≤.

### 2. –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å rebuild –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ:
```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ cron:
0 3 * * 1 docker-compose exec backend node rebuild-playlists-improved.js
```

### 3. –ò–º–ø–æ—Ä—Ç –Ω–æ–≤—ã—Ö —Ç—Ä–µ–∫–æ–≤ –∏–∑ iTunes Charts
```bash
docker-compose exec backend node import-itunes-charts.js
```

### 4. –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç –∏–∑ KissVK
```bash
docker-compose exec backend node mass-import-kissvk.js
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ä—ã–µ –ø–ª–µ–π–ª–∏—Å—Ç—ã –≤—Å—ë –µ—â—ë –≤–∏–¥–Ω—ã
**–†–µ—à–µ–Ω–∏–µ**: –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (—Å–º. —Ä–∞–∑–¥–µ–ª –≤—ã—à–µ)

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –æ–±–ª–æ–∂–µ–∫ —É –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
**–†–µ—à–µ–Ω–∏–µ**: –ü–ª–µ–π–ª–∏—Å—Ç "–†–µ–ª–∞–∫—Å" —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ 5 —Ç—Ä–µ–∫–æ–≤, –º–æ–∂–µ—Ç –Ω–µ –∏–º–µ—Ç—å –æ–±–ª–æ–∂–∫–∏. –ó–∞–ø—É—Å—Ç–∏—Ç–µ rebuild —Å–∫—Ä–∏–ø—Ç —Å–Ω–æ–≤–∞.

### –ü—Ä–æ–±–ª–µ–º–∞: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É
**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
```bash
docker-compose logs backend | grep editorial
docker-compose ps backend
```

### –ü—Ä–æ–±–ª–µ–º–∞: Frontend –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab –≤ DevTools
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç –Ω–∞ `/api/music/playlists/editorial`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 200)

---

## üìÅ –§–∞–π–ª—ã

### Backend
- `backend/src/modules/music/playlists.controller.js` - Editorial endpoint
- `backend/src/modules/music/music.routes.js` - Route: `/playlists/editorial`
- `backend/rebuild-playlists-improved.js` - –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
- `backend/test-editorial-api.js` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### Frontend
- `frontend/src/pages/MusicHomePage.jsx` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º—É–∑—ã–∫–∏
- `frontend/src/utils/apiConfig.js` - API configuration
- `frontend/public/test-editorial.html` - –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

---

## ‚úÖ Checklist

- [x] 5 editorial –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω—ã
- [x] –û–±–ª–æ–∂–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã (944/1714 = 55.1%)
- [x] API endpoint `/playlists/editorial` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] No-cache –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] Frontend –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- [x] –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞–ø–∏—Å–∞–Ω–∞
- [ ] **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—á–∏—Å—Ç–∏–ª –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞** ‚¨ÖÔ∏è **–°–î–ï–õ–ê–ô–¢–ï –≠–¢–û!**

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 25 –¥–µ–∫–∞–±—Ä—è 2025, 14:38 UTC  
**–í–µ—Ä—Å–∏—è API**: v1.0  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞** - —ç—Ç–æ —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ!
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Ctrl + F5` –¥–ª—è –∂—ë—Å—Ç–∫–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É `/test-editorial.html`
4. –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ rebuild-playlists –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
5. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –Ω–æ–≤—ã–º–∏ —Ç—Ä–µ–∫–∞–º–∏ —á–µ—Ä–µ–∑ iTunes Charts
